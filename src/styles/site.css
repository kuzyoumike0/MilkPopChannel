/* public/styles/site.css */

/* ====== (あなたの global.css) ====== */
:root{
  --bg:#fff;
  --text:#1f2430;

  /* pastel */
  --pink:#ff7fb4;
  --sky:#6fc7ff;
  --lemon:#ffd85a;
  --mint:#70e6c3;

  --card:#ffffffcc;
  --line:#e9edf4;
  --shadow: 0 14px 40px rgba(20,30,60,.10);
  --radius: 22px;
  --radius2: 16px;

  --max: 1100px;
  --pad: 18px;
  --font: ui-sans-serif, system-ui, -apple-system, "Segoe UI", "Hiragino Sans", "Noto Sans JP", "Yu Gothic", sans-serif;
}

*{ box-sizing:border-box; }
html,body{ margin:0; padding:0; background:var(--bg); color:var(--text); font-family:var(--font); }
a{ color:inherit; text-decoration:none; }
img{ max-width:100%; display:block; }

.container{
  width:min(var(--max), calc(100% - var(--pad)*2));
  margin:0 auto;
}

.pastel-bg{
  position:fixed;
  inset:0;
  z-index:-1;
  pointer-events:none;
  background:
    radial-gradient(600px 400px at 12% 12%, color-mix(in oklab, var(--pink) 35%, transparent) 0%, transparent 60%),
    radial-gradient(520px 360px at 90% 18%, color-mix(in oklab, var(--sky) 35%, transparent) 0%, transparent 58%),
    radial-gradient(520px 360px at 18% 92%, color-mix(in oklab, var(--mint) 35%, transparent) 0%, transparent 58%),
    radial-gradient(640px 420px at 86% 90%, color-mix(in oklab, var(--lemon) 35%, transparent) 0%, transparent 60%);
}

.section{ padding: 42px 0; }

.grid{ display:grid; gap:16px; }
@media (min-width: 840px){
  .grid.cols-3{ grid-template-columns: repeat(3, 1fr); }
  .grid.cols-4{ grid-template-columns: repeat(4, 1fr); }
  .grid.cols-2{ grid-template-columns: repeat(2, 1fr); }
}

.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  overflow:hidden;
}

.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  padding:12px 16px;
  border-radius:999px;
  border:1px solid var(--line);
  background:#fff;
  font-weight:800;
  box-shadow: 0 10px 26px rgba(20,30,60,.10);
  transition: transform .15s ease, box-shadow .15s ease;
}
.btn:hover{
  transform: translateY(-2px);
  box-shadow: 0 14px 34px rgba(20,30,60,.14);
}

.pills{ display:flex; flex-wrap:wrap; gap:8px; }

.pill{
  padding:6px 10px;
  border-radius:999px;
  font-weight:800;
  font-size:12px;
  border:1px solid var(--line);
  background:#fff;
}
.pill.pink{ box-shadow: 0 0 0 3px color-mix(in oklab, var(--pink) 30%, transparent) inset; }
.pill.sky{ box-shadow: 0 0 0 3px color-mix(in oklab, var(--sky) 30%, transparent) inset; }
.pill.lemon{ box-shadow: 0 0 0 3px color-mix(in oklab, var(--lemon) 30%, transparent) inset; }
.pill.mint{ box-shadow: 0 0 0 3px color-mix(in oklab, var(--mint) 30%, transparent) inset; }

.small{ font-size: 13px; opacity:.85; }
hr.sep{ border:none; border-top:1px solid var(--line); margin: 18px 0; }

/* ====== (Reading Café 上書き) ====== */
:root{
  --bg:#070709;
  --text:#e9e9ef;
  --card: rgba(0,0,0,.25);
  --line: rgba(255,255,255,.14);
  --shadow: 0 14px 40px rgba(0,0,0,.35);
}

/* パステル背景は無効化 */
.pastel-bg{ display:none !important; }

/* 本の紙筋＋ページ影（軽量） */
body::before{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:-1;
  background:
    linear-gradient(90deg,
      rgba(0,0,0,.55) 0%,
      rgba(0,0,0,.00) 18%,
      rgba(0,0,0,.00) 82%,
      rgba(0,0,0,.55) 100%),
    repeating-linear-gradient(0deg,
      rgba(255,255,255,.010) 0px,
      rgba(255,255,255,.010) 1px,
      rgba(255,255,255,.00) 10px,
      rgba(255,255,255,.00) 18px);
  opacity:.9;
}

/* =========================
   YouTube TOC (index.astro)
========================= */
.ytToc{ display:grid; gap:16px; }
@media (min-width: 980px){
  .ytToc{ grid-template-columns: 1.2fr .8fr; align-items:start; }
}

.ytPlayer{ background: rgba(0,0,0,.20); border:1px solid var(--line); border-radius: 18px; overflow:hidden; box-shadow: var(--shadow); }
.ytDur{
  position:absolute;
  right:8px;
  bottom:8px;
  padding:2px 6px;
  font-size:11px;
  font-weight:900;
  letter-spacing:.06em;
  color: rgba(233,233,239,.95);
  background: rgba(0,0,0,.68);
  border: 1px solid rgba(255,255,255,.16);
  border-radius: 10px;
  backdrop-filter: blur(6px);
}


.ytFrame{ position:relative; width:100%; aspect-ratio: 16/9; background:#000; }
.ytFrame iframe{ position:absolute; inset:0; width:100%; height:100%; border:0; }

.ytMeta{ padding:14px 14px 16px; display:flex; flex-direction:column; gap:6px; }
.ytTitle{ font-weight:900; letter-spacing:.02em; }
.ytNote{ opacity:.78; font-size:13px; }
.ytLink{
  align-self:flex-start;
  margin-top:6px;
  padding:8px 12px;
  border-radius:999px;
  border:1px solid var(--line);
  background: rgba(255,255,255,.06);
  text-decoration:none;
}
.ytLink:hover{ background: rgba(255,255,255,.10); }

.ytTabs{ display:flex; gap:10px; flex-wrap:wrap; }
.ytTab{
  appearance:none;
  border:1px solid var(--line);
  background: rgba(255,255,255,.06);
  color: inherit;
  padding:8px 12px;
  border-radius:999px;
  font-weight:800;
  cursor:pointer;
}
.ytTab:hover{ background: rgba(255,255,255,.10); }
.ytTab.isActive{ background: rgba(255,255,255,.14); border-color: rgba(255,255,255,.22); }

.ytRow{
  display:flex;
  gap:12px;
  overflow-x:auto;
  padding-bottom:6px;
  scroll-snap-type:x mandatory;
}
.ytRow::-webkit-scrollbar{ height:10px; }
.ytRow::-webkit-scrollbar-thumb{ background: rgba(255,255,255,.12); border-radius: 999px; }

.ytCard{
  flex: 0 0 auto;
  width: 280px;
  scroll-snap-align: start;
  position:relative;
  display:block;
  background: rgba(0,0,0,.18);
  border:1px solid var(--line);
  border-radius: 16px;
  overflow:hidden;
  box-shadow: 0 10px 28px rgba(0,0,0,.30);
  transform: translateY(0);
  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
}
.ytCard:hover{ transform: translateY(-2px); box-shadow: 0 14px 34px rgba(0,0,0,.36); border-color: rgba(255,255,255,.22); }
.ytCard.isActive{ outline: 2px solid rgba(255,255,255,.28); }

.ytThumb{ position:relative; background:#000; }
.ytThumb img{ width:100%; height:auto; display:block; }
.ytPlay{
  position:absolute;
  left:12px; bottom:12px;
  width:34px; height:34px;
  display:grid; place-items:center;
  border-radius: 999px;
  border:1px solid rgba(255,255,255,.30);
  background: rgba(0,0,0,.45);
  font-weight:900;
}

.ytCardBody{ padding:10px 12px 12px; display:flex; flex-direction:column; gap:4px; }
.ytCardTitle{ font-weight:900; font-size:13px; line-height:1.25; }
.ytCardNote{ opacity:.74; font-size:12px; }

.ytNow{
  position:absolute;
  top:10px; right:10px;
  padding:6px 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.10);
  border:1px solid rgba(255,255,255,.22);
  font-size:12px;
  font-weight:900;
}


/* Fade on video change */
.ytFrame iframe{ transition: opacity .22s ease; }
.ytMeta{ transition: opacity .22s ease, transform .22s ease; }
.ytToc.isFading .ytFrame iframe{ opacity: 0; }
.ytToc.isFading .ytMeta{ opacity: 0; transform: translateY(6px); }
